/*! imageCover | fullScreen | typeScale | middlize | resImg | colymn | Paul Browne | GNU License | 2015 */
!function(){function a(a,b){var c=[window.innerWidth];return window.addEventListener("resize",function(){var d=window.innerWidth,e=c.length;c.push(d),c[e]!==c[e-1]&&(clearTimeout(b),b=setTimeout(a,200))}),a}helperize=function(){var a=window.innerWidth,b=document.getElementsByTagName("body")[0].style,c=document.querySelectorAll(".fullscreen,.fullheight"),d=document.querySelectorAll(".middlize,.vmid"),e=document.querySelectorAll(".icovr");b.fontSize=a/600+15+"px",b.lineHeight=a/8e3+1.4;for(var f=0;f<c.length;f++)c[f].style.minHeight=window.innerHeight+"px";for(var g=0;g<d.length;g++)d[g].style.top=(d[g].parentNode.offsetHeight-d[g].offsetHeight)/2+"px",d[g].parentNode.style.position="relative";for(var h=0;h<e.length;h++){if(!document.querySelectorAll(".icovr-cont").length){var i=document.createElement("div");i.className="icovr-cont",e[h].parentNode.insertBefore(i,e[h]).appendChild(e[h])}var j=e[h].parentNode.offsetWidth,k=e[h].parentNode.offsetHeight,l=j/k,m=e[h].naturalWidth,n=e[h].naturalHeight,o=m/n,p=e[h].style;l>=o&&(p.width="100%",p.height="auto",p.top=(k-n/(m/j))/2+"px",p.left=0),o>l&&(p.width="auto",p.height="100%",p.top=0,p.left=(j-m/(n/k))/2+"px")}},resImg=function(){var a=document.getElementsByTagName("img");if(0!==a.length)for(var b=function(a,b){return a.hasAttribute(b)},c=window.devicePixelRatio?window.devicePixelRatio:1,d=0;d<a.length;d++){var e=a[d],f=c*e.parentNode.offsetWidth,g="data-src",h=c&&b(e,"data-src-base2x")?"data-src-base2x":"data-src-base";if(b(e,g)){for(var i=b(e,h)?e.getAttribute(h):"",j=e.getAttribute(g),k=j.split(","),l=0;l<k.length;l++){var p,q,m=k[l].replace(":","||").split("||"),n=m[0],o=m[1];if(-1!==n.indexOf("<"))if(p=n.split("<"),k[l-1]){var r=k[l-1].split(/:(.+)/),s=r[0].split("<");q=f<=p[1]&&f>s[1]}else q=f<=p[1];else if(p=n.split(">"),k[l+1]){var t=k[l+1].split(/:(.+)/),u=t[0].split(">");q=f>=p[1]&&f<u[1]}else q=f>=p[1];if(q){var w,v=-1!==o.indexOf("//")?1:0;w=1===v?o:i+o,e.src!==w&&e.setAttribute("src",w);break}}e.addEventListener("load",helperize)}}};var c,b={margin:4,phonePortrait:300,phoneLandscape:300,tabletPortrait:440,tabletLandscape:640,desktop:1024,fullHD:1440};colymn=function(a){function p(a){return RegExp(a+"-(col|center)-","g")}function q(a){return RegExp(a+"-center-\\d+(px|em)","g")}function r(a,b){return RegExp(a+"-"+b+"-\\d+-\\d+","g")}function s(a){return a.test(z[A].className)}function t(a){return z[A].className.match(a).toString().match(/(\d+|px|em)/g)}function u(a){var b=t(a),c=b[0]/b[1]*(100+h-h*b[1])+h*b[0]-h,d=parseFloat(z[A].parentNode.style.width),e=100/d*-(c+h)+"%";return e}function v(a){var b=t(a),c=100*b[0]/b[1]-(b[1]-b[0])*h/b[1]+"%";return c}function w(a){for(;"svg"!==a.nodeName&&(a=a.parentNode)&&"svg"!==a.nodeName;);return!!a}c=arguments[0];for(var d=window.innerWidth,e=window.innerHeight,f=document.querySelectorAll("*"),g=document.querySelectorAll(".colymn-clearfix"),h=a&&a.margin?a.margin:b.margin,i=a&&a.phonePortrait?a.phonePortrait:b.phonePortrait,j=a&&a.phoneLandscape?a.phoneLandscape:b.phoneLandscape,k=a&&a.tabletPortrait?a.tabletPortrait:b.tabletPortrait,l=a&&a.tabletLandscape?a.tabletLandscape:b.tabletLandscape,m=a&&a.desktop?a.desktop:b.desktop,n=a&&a.fullHD?a.fullHD:b.fullHD,o=0;o<g.length;o++)g[o].parentNode.removeChild(g[o]);for(var x=0,y=0;y<f.length;y++)if(!w(f[y]))for(var z=f[y].children,A=0;A<z.length;++A){var B=z[A].style,C="xx";d>i&&e>d&&s(p("pp"))&&(C="pp"),d>j&&d>e&&s(p("pl"))&&(C="pl"),d>k&&e>d&&s(p("tp"))&&(C="tp"),d>l&&d>e&&s(p("tl"))&&(C="tl"),d>m&&s(p("dt"))&&(C="dt"),d>=n&&s(p("hd"))&&(C="hd");var D=r(C,"left"),E=r(C,"right"),F=r(C,"(col|offset)"),G=r(C,"(left|right)"),H=r(C,"center"),I=r(C,"col"),J=p("\\w+"),K=q(C);if(s(J)&&(B.position="relative",B.display="block",B.marginRight=0,B.marginLeft=0,B["float"]="none",B.width="100%"),s(K)){var L=t(K);B.display="block",B.marginRight="auto",B.marginLeft="auto",B["float"]="none",B.width=L[0]+L[1]}if(s(H)&&(B.width=v(H),B["float"]="none",B.marginRight="auto",B.marginLeft="auto"),s(I)){if(B.width=v(I),B["float"]="left",B.marginLeft=h+"%","0"===t(I)[0]&&(B.display="none"),!s(G)){var M=t(F);if(M[2]||(M[2]=0,M[3]=1),.01>=x&&(B.marginLeft=0),M[2]){var N=M[2]/M[3]*(100+h-h*M[3])+h*M[2];B.marginLeft=N+h+"%",.01>=x&&(B.marginLeft=N+"%")}if(x+=M[0]/M[1]+M[2]/M[3],x>=.99){x-=1;var O=document.createElement("div");O.style.clear="both",O.className="colymn-clearfix",z[A].parentNode.insertBefore(O,z[A].nextSibling)}}s(D)&&(B.marginRight=h+"%",B.marginLeft=u(D)),s(E)&&(B["float"]="right",B.marginLeft=h+"%",B.marginRight=u(E))}}helperize(),resImg()},a(function(){colymn(c)})}();