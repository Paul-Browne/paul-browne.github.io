/* imageCover | fullScreen | typeScale | middlize | ResImg | epicGrid | Paul Browne | GNU License | 2015 */
function helperize(){var a=window.innerWidth,b=document.getElementsByTagName("body")[0].style;for(b.fontSize=a/500+14+"px",b.lineHeight=a/8e3+1.4,a=document.querySelectorAll(".fullscreen, .fullheight"),b=0;b<a.length;b++)a[b].style.height=window.innerHeight+"px";for(a=document.querySelectorAll(".middlize, .vmid"),b=0;b<a.length;b++)a[b].style.top=(a[b].parentNode.offsetHeight-a[b].offsetHeight)/2+"px",a[b].parentNode.style.position="relative";for(a=document.getElementsByClassName("icovr"),b=0;b<a.length;b++){var c=a[b].offsetWidth,d=a[b].offsetHeight,e=c/d,f=a[b].children[0].naturalWidth,g=a[b].children[0].naturalHeight,h=f/g,i=a[b].children[0].style;e>=h&&(i.width="100%",i.height="auto",i.top=(d-g/(f/c))/2+"px",i.left=0),h>e&&(i.width="auto",i.height="100%",i.top=0,i.left=(c-f/(g/d))/2+"px")}}function ResImg(){var a=document.getElementsByTagName("body")[0].getElementsByTagName("img");if(0!==a.length){var b;b=a[0].hasAttribute?function(a,b){return a.hasAttribute(b)}:function(a,b){return null!==a.getAttribute(b)};for(var c=window.devicePixelRatio?window.devicePixelRatio:1,d=0;d<a.length;d++){var e=a[d],f=c*e.parentNode.offsetWidth;if(b(e,"data-src")){for(var g=b(e,"data-src-base")?e.getAttribute("data-src-base"):"",h=e.getAttribute("data-src").split(","),i=0;i<h.length;i++){var j,k=h[i].replace(":","||").split("||");if(j=k[0],k=k[1],-1!==j.indexOf("<"))if(j=j.split("<"),h[i-1]){var l=h[i-1].split(/:(.+)/)[0].split("<");j=f<=j[1]&&f>l[1]}else j=f<=j[1];else j=j.split(">"),h[i+1]?(l=h[i+1].split(/:(.+)/)[0].split(">"),j=f>=j[1]&&f<l[1]):j=f>=j[1];if(j){f=1===(-1!==k.indexOf("//")?1:0)?k:g+k,e.src!==f&&e.setAttribute("src",f);break}}a[d].addEventListener("load",helperize)}}}}function epicGrid(){for(var a=window.innerWidth,b=document.getElementsByTagName("*"),c=document.getElementsByClassName("egcf"),d=document.querySelectorAll('[class*="-col-"],[class*="-center-"]');0<c.length;)c[0].parentNode.removeChild(c[0]);for(c=0;c<d.length;++c){var e=d[c].style;e["float"]="none",e.width="100%",e.marginLeft=0,e.marginRight=0,e.position="relative",e.display="block"}for(d=0;d<b.length;++d)for(var c=b[d].children,f=e=0;f<c.length;++f){var g=RegExp("h-col-|h-center-","g"),h=RegExp("l-col-|l-center-","g"),i=RegExp("m-col-|m-center-","g"),j=RegExp("s-col-|s-center-","g"),k="x";a>320&&j.test(c[f].className)&&(k="s"),a>656&&i.test(c[f].className)&&(k="m"),a>1024&&h.test(c[f].className)&&(k="l"),a>1440&&g.test(c[f].className)&&(k="h");var j=new RegExp(k+"-center-\\d+-\\d+","g"),g=new RegExp(k+"-left-\\d+-\\d+","g"),h=new RegExp(k+"-right-\\d+-\\d+","g"),l=new RegExp(k+"-offset-\\d+-\\d+","g"),m=new RegExp(k+"-col-\\d+-\\d+|"+k+"-offset-\\d+-\\d+","g"),n=new RegExp(k+"-col-\\d+-\\d+|"+k+"-center-\\d+-\\d+","g"),i=new RegExp(k+"-left-\\d+-\\d+|"+k+"-right-\\d+-\\d+","g");if(!new RegExp(k+"-col-\\d+-\\d+","g").test(c[f].className)||g.test(c[f].className)||h.test(c[f].className)||(k=c[f].className.match(m).toString().match(/\d+/g),1<=Math.round(1e4*e)/1e4&&(e+=-1),0==Math.round(1e4*e)/1e4&&(c[f].className+=" eg-first"),e=2<k.length?e+(k[0]/k[1]+k[2]/k[3]):e+k[0]/k[1],0==Math.round(1e4*e)/1e4%1&&(k=document.createElement("br"),k.style.clear="both",k.className="egcf",c[f].parentNode.insertBefore(k,c[f].nextSibling))),n.test(c[f].className))for(k=c[f].className.match(n).toString().match(/\d+/g),c[f].style.width=k[0]/k[1]*(104-4*k[1])+4*k[0]-4+"%",c[f].style.marginLeft="4%",c[f].style["float"]="left",c[f].className.match(/eg\-first/g)&&(c[f].style.marginLeft=0),c[f].className.match(j)&&(c[f].style["float"]="none",c[f].style.marginLeft="auto",c[f].style.marginRight="auto"),c[f].className.match(l)&&(k=c[f].className.match(l).toString().match(/\d+/g),k=k[0]/k[1]*(104-4*k[1])+4*k[0]-4,c[f].style.marginLeft=k+8+"%",c[f].className.match(/eg\-first/g)&&(c[f].style.marginLeft=k+4+"%")),i.test(c[f].className)&&(i=c[f].className.match(i).toString().match(/\d+/g),i=i[0]/i[1]*(104-4*i[1])+4*i[0]-4,k=parseFloat(c[f].parentNode.style.width),c[f].className.match(g)&&(c[f].style.marginLeft=100/k*-(i+4)+"%",c[f].style.marginRight="4%",c[f].style["float"]="left"),c[f].className.match(h)&&(c[f].style["float"]="right",c[f].style.marginRight=100/k*-(i+4)+"%",c[f].style.marginLeft="4%")),g=document.getElementsByClassName("eg-first"),h=0;h<g.length;++h)g[0].className=g[0].className.replace(/\seg-first/,"")}a=new CustomEvent("eg-ready"),window.dispatchEvent(a)}window.addEventListener("resize",epicGrid),window.addEventListener("eg-ready",helperize),window.addEventListener("eg-ready",ResImg);


/*! sortable.js 0.6.0 */
(function(){var a,b,c,d,e,f,g;a="table[data-sortable]",d=/^-?[£$¤]?[\d,.]+%?$/,g=/^\s+|\s+$/g,f="ontouchstart"in document.documentElement,c=f?"touchstart":"click",b=function(a,b,c){return null!=a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},e={init:function(b){var c,d,f,g,h;for(null==b&&(b={}),null==b.selector&&(b.selector=a),d=document.querySelectorAll(b.selector),h=[],f=0,g=d.length;g>f;f++)c=d[f],h.push(e.initTable(c));return h},initTable:function(a){var b,c,d,f,g,h;if(1===(null!=(h=a.tHead)?h.rows.length:void 0)&&"true"!==a.getAttribute("data-sortable-initialized")){for(a.setAttribute("data-sortable-initialized","true"),d=a.querySelectorAll("th"),b=f=0,g=d.length;g>f;b=++f)c=d[b],"false"!==c.getAttribute("data-sortable")&&e.setupClickableTH(a,c,b);return a}},setupClickableTH:function(a,d,f){var g;return g=e.getColumnType(a,f),b(d,c,function(){var b,c,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(j="true"===this.getAttribute("data-sorted"),k=this.getAttribute("data-sorted-direction"),b=j?"ascending"===k?"descending":"ascending":g.defaultSortDirection,m=this.parentNode.querySelectorAll("th"),n=0,q=m.length;q>n;n++)d=m[n],d.setAttribute("data-sorted","false"),d.removeAttribute("data-sorted-direction");for(this.setAttribute("data-sorted","true"),this.setAttribute("data-sorted-direction",b),l=a.tBodies[0],h=[],t=l.rows,o=0,r=t.length;r>o;o++)c=t[o],h.push([e.getNodeValue(c.cells[f]),c]);for(j?h.reverse():h.sort(g.compare),u=[],p=0,s=h.length;s>p;p++)i=h[p],u.push(l.appendChild(i[1]));return u})},getColumnType:function(a,b){var c,f,g,h,i;for(i=a.tBodies[0].rows,g=0,h=i.length;h>g;g++)if(c=i[g],f=e.getNodeValue(c.cells[b]),""!==f){if(f.match(d))return e.types.numeric;if(!isNaN(Date.parse(f)))return e.types.date}return e.types.alpha},getNodeValue:function(a){return a?null!==a.getAttribute("data-value")?a.getAttribute("data-value"):"undefined"!=typeof a.innerText?a.innerText.replace(g,""):a.textContent.replace(g,""):""},types:{numeric:{defaultSortDirection:"descending",compare:function(a,b){var c,d;return c=parseFloat(a[0].replace(/[^0-9.-]/g,""),10),d=parseFloat(b[0].replace(/[^0-9.-]/g,""),10),isNaN(c)&&(c=0),isNaN(d)&&(d=0),d-c}},alpha:{defaultSortDirection:"ascending",compare:function(a,b){return a[0].localeCompare(b[0])}},date:{defaultSortDirection:"ascending",compare:function(a,b){var c,d;return c=Date.parse(a[0]),d=Date.parse(b[0]),isNaN(c)&&(c=0),isNaN(d)&&(d=0),c-d}}}},setTimeout(e.init,0),window.Sortable=e}).call(this);

/* jQuery collapse | Daniel Stocks (http://webcloud.se) | MIT, BSD, and GPL Licenses */
!function(a,b){function c(b,c){c=c||{};var d=this,e=c.query||"> :even";a.extend(d,{$el:b,options:c,sections:[],isAccordion:c.accordion||!1,db:c.persist?jQueryCollapseStorage(b.get(0).id):!1}),d.states=d.db?d.db.read():[],d.$el.find(e).each(function(){new jQueryCollapseSection(a(this),d)}),function(b){d.$el.on("click","[data-collapse-summary] "+(b.options.clickQuery||""),a.proxy(d.handleClick,b)),d.$el.bind("toggle close open",a.proxy(d.handleEvent,b))}(d)}function d(b,c){c.options.clickQuery||b.wrapInner('<a href="#"/>'),a.extend(this,{isOpen:!1,$summary:b.attr("data-collapse-summary",""),$details:b.next(),options:c.options,parent:c}),c.sections.push(this);var d=c.states[this._index()];0===d?this.close(!0):this.$summary.is(".open")||1===d?this.open(!0):this.close(!0)}c.prototype={handleClick:function(b,c){b.preventDefault(),c=c||"toggle";for(var d=this.sections,e=d.length;e--;)if(a.contains(d[e].$summary[0],b.target)){d[e][c]();break}},handleEvent:function(a){return a.target==this.$el.get(0)?this[a.type]():(this.handleClick(a,a.type),void 0)},open:function(a){this._change("open",a)},close:function(a){this._change("close",a)},toggle:function(a){this._change("toggle",a)},_change:function(b,c){return isFinite(c)?this.sections[c][b]():(a.each(this.sections,function(a,c){c[b]()}),void 0)}},d.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(a){this._changeState("close",a)},open:function(b){var c=this;c.options.accordion&&!b&&a.each(c.parent.sections,function(a,b){b.close()}),c._changeState("open",b)},_index:function(){return a.inArray(this,this.parent.sections)},_changeState:function(b,c){var d=this;d.isOpen="open"==b,a.isFunction(d.options[b])&&!c?d.options[b].apply(d.$details):d.$details[d.isOpen?"show":"hide"](),d.$summary.toggleClass("open","close"!==b),d.$details.attr("aria-hidden","close"===b),d.$summary.attr("aria-expanded","open"===b),d.$summary.trigger("open"===b?"opened":"closed",d),d.parent.db&&d.parent.db.write(d._index(),d.isOpen)}},a.fn.extend({collapse:function(b,d){var e=d?a("body").find("[data-collapse]"):a(this);return e.each(function(){var e=d?{}:b,f=a(this).attr("data-collapse")||"";a.each(f.split(" "),function(a,b){b&&(e[b]=!0)}),new c(a(this),e)})}}),a(function(){a.fn.collapse(!1,!0)}),b.jQueryCollapse=c,b.jQueryCollapseSection=d}(window.jQuery,window);
